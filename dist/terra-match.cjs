function t(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,e}var e=/*#__PURE__*/t(require("@turf/turf"));function r(t,e){var r=t[0],n=e[0],o=r*Math.PI/180,a=n*Math.PI/180,i=(n-r)*Math.PI/180,c=(e[1]-t[1])*Math.PI/180,s=Math.sin(i/2)*Math.sin(i/2)+Math.cos(o)*Math.cos(a)*Math.sin(c/2)*Math.sin(c/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371e3}function n(t,e,n){void 0===n&&(n={distanceMetric:r});var o=n.distanceMetric,a="Polygon"===t.type?t.coordinates[0]:t.coordinates,i="Polygon"===e.type?e.coordinates[0]:e.coordinates,c=a.length,s=i.length,u=Array.from({length:c},function(){return Array(s).fill(-1)});return function t(e,r){return-1!==u[e][r]||(u[e][r]=0===e&&0===r?o(a[0],i[0]):e>0&&0===r?Math.max(t(e-1,0),o(a[e],i[0])):0===e&&r>0?Math.max(t(0,r-1),o(a[0],i[r])):e>0&&r>0?Math.max(Math.min(t(e-1,r),t(e-1,r-1),t(e,r-1)),o(a[e],i[r])):Infinity),u[e][r]}(c-1,s-1)}function o(t,e){var r=-Math.log(.005)/e;return Math.exp(-r*t)}function a(t,e){return 1-Math.min(t,e)/e}function i(t){if(!t.coordinates||0===t.coordinates.length)return[];for(var e="Polygon"===t.type?t.coordinates[0].slice(0,-1):t.coordinates.slice(0),r=e.length,n=[],o=0;o<r;o++){var a=[].concat(e.slice(o),e.slice(0,o));"Polygon"===t.type&&a.push(a[0]),"LineString"!==t.type&&0===o||n.push({type:t.type,coordinates:"Polygon"===t.type?[a]:a});var i=[].concat(a).reverse();n.push({type:t.type,coordinates:"Polygon"===t.type?[i]:i})}return n}exports.exponentialDecayFunction=o,exports.frechetDistance=n,exports.generateGeometryCoordinatePermutations=i,exports.linearDecayFunction=a,exports.terraMatch=function(t,c,s){void 0===s&&(s={});var u=s.distanceMetric,p=void 0===u?r:u,h=s.checkPermutations,l=void 0===h||h,y=s.cleanRedundant,d=void 0===y||y,f=s.decay,M=void 0===f?"exponential":f,g=e.bbox({type:"FeatureCollection",features:[{type:"Feature",geometry:t,properties:{}},{type:"Feature",geometry:c,properties:{}}]});d&&e.cleanCoords(c,{mutate:!0});for(var v=l?i(c):[c],P=[c].concat(v),m=Infinity;P.length>0;){var x=n(t,P.pop(),{distanceMetric:p});x<m&&(m=x)}var b=p([g[0],g[1]],[g[2],g[3]]);return"linear"===M?a(m,b):o(m,b)};
//# sourceMappingURL=terra-match.cjs.map
